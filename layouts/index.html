{{ define "main" }}
<div class="container mx-auto px-4 py-8">
  <div class="text-center mb-12">
    <h1 class="text-4xl font-bold mb-2">{{ .Site.Title }}</h1>
    <p class="text-xl text-gray-600">{{ .Site.Params.hextra.home.subtitle }}</p>
  </div>

  <div class="max-w-3xl mx-auto">
    {{ $paginator := .Paginate (where .Site.RegularPages "Type" "in" .Site.Params.mainSections) }}
    {{ range $paginator.Pages }}
    <article class="mb-16 bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden">
      <div class="p-6">
        <h2 class="text-2xl font-bold mb-4">
          <a href="{{ .Permalink }}" class="text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300">
            {{ .Title }}
          </a>
        </h2>
        <div class="text-sm text-gray-600 dark:text-gray-400 mb-4">
          <time>{{ .Date.Format "January 2, 2006" }}</time>
          {{ with .Params.tags }}
          <span class="mx-2">•</span>
          <span>
            {{ range . }}
            <a href="{{ "/tags/" | relLangURL }}{{ . | urlize }}" class="text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 mr-2">#{{ . }}</a>
            {{ end }}
          </span>
          {{ end }}
        </div>
        <div class="prose dark:prose-invert max-w-none">
          {{ if .Params.image }}
          <img src="{{ .Params.image }}" alt="{{ .Title }}" class="mb-4 rounded-lg">
          {{ end }}
          {{ if .Site.Params.showFullContent }}
            {{ .Content }}
          {{ else }}
            {{ .Summary }}
            {{ if .Truncated }}
            <div class="mt-4">
              <a href="{{ .Permalink }}" class="text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300">
                Read More →
              </a>
            </div>
            {{ end }}
          {{ end }}
        </div>
      </div>
    </article>
    {{ end }}

    <!-- Pagination -->
    {{ if gt $paginator.TotalPages 1 }}
    <div class="flex justify-between items-center my-8">
      {{ if $paginator.HasPrev }}
      <a href="{{ $paginator.Prev.URL }}" class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">← Newer Posts</a>
      {{ else }}
      <span></span>
      {{ end }}
      
      <span class="text-gray-600 dark:text-gray-400">Page {{ $paginator.PageNumber }} of {{ $paginator.TotalPages }}</span>
      
      {{ if $paginator.HasNext }}
      <a href="{{ $paginator.Next.URL }}" class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">Older Posts →</a>
      {{ else }}
      <span></span>
      {{ end }}
    </div>
    {{ end }}
  </div>
</div>
{{ end }}