{{ define "main" }}
<div class="mx-auto flex max-w-screen-xl flex-col px-4 pb-8 pt-16 sm:px-6 lg:px-8">
  <div class="text-center mb-12">
    <h1 class="text-4xl font-bold mb-4">{{ .Site.Title }}</h1>
    <p class="text-xl text-gray-600 dark:text-gray-400">{{ .Site.Params.description }}</p>
  </div>

  <div class="mx-auto max-w-3xl">
    {{ $paginator := .Paginate (where .Site.RegularPages "Type" "in" .Site.Params.mainSections) }}
    {{ range $paginator.Pages }}
    <article class="mb-12 overflow-hidden rounded-lg border border-gray-200 bg-white shadow-sm dark:border-gray-700 dark:bg-gray-900">
      <div class="p-6">
        <h2 class="mb-4 text-2xl font-bold">
          <a href="{{ .Permalink }}" class="text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300">
            {{ .Title }}
          </a>
        </h2>
        <div class="mb-4 text-sm text-gray-600 dark:text-gray-400">
          <time>{{ .Date.Format "January 2, 2006" }}</time>
          {{ with .Params.tags }}
          <span class="mx-2">•</span>
          <span>
            {{ range . }}
            <a href="{{ "/tags/" | relLangURL }}{{ . | urlize }}" class="text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300 mr-2">#{{ . }}</a>
            {{ end }}
          </span>
          {{ end }}
        </div>
        <div class="prose dark:prose-invert max-w-none">
          {{ if .Params.image }}
          <img src="{{ .Params.image }}" alt="{{ .Title }}" class="mb-4 rounded-lg w-full h-auto">
          {{ end }}
          {{ if .Site.Params.showFullContent }}
            {{ .Content }}
          {{ else }}
            {{ .Summary }}
            {{ if .Truncated }}
            <div class="mt-4">
              <a href="{{ .Permalink }}" class="inline-flex items-center rounded-md border border-primary-600 bg-primary-600 px-4 py-2 text-sm font-medium text-white hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 dark:border-primary-500 dark:bg-primary-500 dark:hover:border-primary-400 dark:hover:bg-primary-400">
                Read More →
              </a>
            </div>
            {{ end }}
          {{ end }}
        </div>
      </div>
    </article>
    {{ end }}

    <!-- Pagination -->
    {{ if gt $paginator.TotalPages 1 }}
    <div class="flex justify-between items-center my-8">
      {{ if $paginator.HasPrev }}
      <a href="{{ $paginator.Prev.URL }}" class="inline-flex items-center rounded-md border border-primary-600 bg-primary-600 px-4 py-2 text-sm font-medium text-white hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 dark:border-primary-500 dark:bg-primary-500 dark:hover:border-primary-400 dark:hover:bg-primary-400">← Newer Posts</a>
      {{ else }}
      <span></span>
      {{ end }}
      
      <span class="text-gray-600 dark:text-gray-400">Page {{ $paginator.PageNumber }} of {{ $paginator.TotalPages }}</span>
      
      {{ if $paginator.HasNext }}
      <a href="{{ $paginator.Next.URL }}" class="inline-flex items-center rounded-md border border-primary-600 bg-primary-600 px-4 py-2 text-sm font-medium text-white hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 dark:border-primary-500 dark:bg-primary-500 dark:hover:border-primary-400 dark:hover:bg-primary-400">Older Posts →</a>
      {{ else }}
      <span></span>
      {{ end }}
    </div>
    {{ end }}
  </div>
</div>
{{ end }}